(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),i=r(6),s=r.n(i),a=(r(21),r(22),r(2)),l=r(9),u=r(8),o=r.n(u),d=function(){return Object(a.c)()},j=a.d,b=r(12),h=r.n(b),f=r(14),m=r(3),O="".concat("https://yalantis-react-school-api.yalantis.com","/api"),v="".concat(O,"/task0/users"),p=["January","February","March","April","May","June","July","August","September","October","November","December"],x=function(e){return p[new Date(e).getMonth()]},y=Object(m.c)({sortComparer:function(e,t){return!e.firstName||t.firstName,e.firstName.localeCompare(t.firstName)}}),N=y.getInitialState({maxLettersSelected:3,selectedLettersFilter:""}),g=Object(m.b)("users/fetchUsers",Object(f.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),F=Object(m.d)({name:"users",initialState:N,reducers:{concatRemoveLetterFilter:function(e,t){var r=t.payload,c=r.toLowerCase(),n=e.selectedLettersFilter;n?n.includes(c)?e.selectedLettersFilter=n.split("").filter((function(e){return e!==c})).join(""):e.selectedLettersFilter.length!==e.maxLettersSelected&&(e.selectedLettersFilter=n.concat(r)):e.selectedLettersFilter=r},toggleUser:function(e,t){var r=t.payload,c=r.id,n=r.activity,i=e.entities[c];i&&(i.isActive=n)}},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){var r=t.payload,c={};r.forEach((function(e){c[e.id]=e})),y.upsertMany(e,c)}))}}),C=F.actions,L=C.concatRemoveLetterFilter,S=C.toggleUser,w=function(e){return e.users.selectedLettersFilter},k=function(e){return e.users.maxLettersSelected},A=y.getSelectors((function(e){return e.users})),E=A.selectAll,I=A.selectById,M=(A.selectIds,function(e){var t=E(e),r=w(e);return r?r.split("").reduce((function(e,r){var c=t.filter((function(e){return e.firstName.toUpperCase().startsWith(r.toUpperCase())})).map((function(e){return e.id}));return e[r]=c,e}),{}):{all:t.map((function(e){return e.id}))}}),U=F.reducer,J=r(0),B=function(e){var t=e.id,r=d(),n=Object(c.useState)(!1),i=Object(l.a)(n,2),s=i[0],a=i[1],u=j((function(e){return I(e,t)}));return Object(c.useEffect)((function(){a(!!(null===u||void 0===u?void 0:u.isActive))}),[u]),Object(J.jsx)("li",{children:Object(J.jsxs)("div",{className:"userContainer",children:[Object(J.jsxs)("h4",{className:o()(s&&"userActive"),children:[u.firstName," ",u.lastName]}),Object(J.jsxs)("div",{className:"activity",children:[Object(J.jsxs)("div",{className:"activityCheck",children:[Object(J.jsx)("input",{onChange:function(e){r(S({id:t,activity:!1})),a(!1)},type:"radio",name:"".concat(u.id,"-activity"),id:"".concat(u.id,"-activeFalse"),checked:!s,value:"false"}),Object(J.jsx)("label",{htmlFor:"".concat(u.id,"-activeFalse"),children:"not active"})]}),Object(J.jsxs)("div",{className:"activityCheck",children:[Object(J.jsx)("input",{onChange:function(e){r(S({id:t,activity:!0})),a(!0)},type:"radio",name:"".concat(u.id,"-activity"),id:"".concat(u.id,"-activeTrue"),checked:s,value:"true"}),Object(J.jsx)("label",{htmlFor:"".concat(u.id,"-activeTrue"),children:"active"})]})]})]})})},D=Object(a.b)((function(e){return{userFilteredKeyedIds:M(e)}}))((function(e){var t=e.userFilteredKeyedIds,r=Object.keys(t).map((function(e,r){var c=t[e].map((function(e){return Object(J.jsx)(B,{id:e},e)}));return Object(J.jsxs)("div",{children:[Object(J.jsx)("h3",{children:e.toUpperCase()}),Object(J.jsxs)("ul",{className:"users-list",children:[c,!c.length&&Object(J.jsx)("h4",{children:"No Employees"})]})]},r)}));return Object(J.jsxs)("div",{className:"employees-container",children:[Object(J.jsx)("div",{className:"employee-title",children:Object(J.jsx)("h2",{children:"Employees"})}),Object(J.jsx)("div",{className:"userLists",children:r})]})})),R=r(16);function T(){var e;return Object(R.a)(Array(26)).map((function(t){return(++e).toString(36)}),e=9)}var K=function(){var e=Object(c.useMemo)(T,[]).map((function(e,t){return Object(J.jsx)(W,{letter:e,children:Object(J.jsxs)(J.Fragment,{children:[e," "]})},t)}));return Object(J.jsx)("div",{className:"buttons-container",children:e})},W=function(e){var t=e.letter,r=e.children,i=d(),s=j(w),a=j(k),l=Object(c.useRef)(t),u=!!s&&s.includes(l.current),b=Object(c.useMemo)((function(){var e=Boolean(s),t=Boolean(!u),r=Boolean(s.length===a);return!!(e&&t&&r)}),[s,u,a]);return Object(J.jsx)(n.a.Fragment,{children:Object(J.jsx)("button",{type:"button",disabled:b,className:o()(u&&"buttonActive"),onClick:function(e){var t=l.current;T().includes(t)&&i(L(t))},children:r})})},Y=function(){var e=j((function(e){return function(e){var t=E(e).filter((function(e){return e.isActive})).reduce((function(e,t){var r=x(t.dob);return e[r]||(e[r]=[]),e[r].push(t),e}),{});return Object.entries(t).reduce((function(e,t){var r=Object(l.a)(t,2),c=r[0],n=r[1];return e[c]=n.sort((function(e,t){return e.lastName.toLowerCase().localeCompare(t.lastName.toLowerCase())})).map((function(e){return e.id})),e}),{})}(e)})),t=Object.keys(e).map((function(t,r){var c=e[t].map((function(e){return Object(J.jsx)(q,{id:e},e)}));return Object(J.jsxs)("div",{children:[Object(J.jsx)("hr",{}),Object(J.jsx)("h3",{children:t.toUpperCase()}),Object(J.jsxs)("ul",{className:"users-list",children:[c,!c.length&&Object(J.jsx)("h4",{children:"Employee list empty"})]})]},r)}));return Object(J.jsxs)("div",{className:"employees-birthdays",children:[Object(J.jsx)("div",{className:"employee-title",children:Object(J.jsx)("h2",{children:"Employees birthday"})}),Object(J.jsxs)("div",{children:[t,(!t||!t.length)&&Object(J.jsx)("h4",{children:"Employees List is empty"})]})]})},q=function(e){var t=e.id,r=j((function(e){return I(e,t)})),n=Object(c.useMemo)((function(){var e=r.dob,t=new Date(e);return"".concat(t.getUTCDate()," ").concat(x(e),", ").concat(t.getFullYear()," year")}),[r]);return Object(J.jsx)("li",{children:Object(J.jsx)("div",{children:Object(J.jsxs)("h4",{children:[r.lastName," ",r.firstName," - ",n]})})})};var z=function(){return Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)("header",{className:"App-header",children:Object(J.jsx)(K,{})}),Object(J.jsx)("main",{children:Object(J.jsx)("div",{className:"container",children:Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)(D,{}),Object(J.jsx)("div",{className:"vertical-line"}),Object(J.jsx)(Y,{})]})})}),Object(J.jsx)("footer",{children:Object(J.jsx)("hr",{})})]})},G=r(5),H=r(15),P="state",Q=function(e){return function(t){return function(r){V("dispatching",r);var c=t(r);return V("next state",e.getState()),c}}},V=function(){},X=function(){try{var e=window.localStorage.getItem(P);if(!e)return;return JSON.parse(e)}catch(t){return}}(),Z=Object(m.a)({reducer:{users:U},preloadedState:X,middleware:function(e){return e().prepend(Q)}});Z.subscribe(Object(H.throttle)((function(){var e=Z.getState();!function(e){try{var t=JSON.stringify(e);window.localStorage.setItem(P,t)}catch(r){}}(Object(G.a)({},e))}),1e3)),Z.dispatch(g()),s.a.render(Object(J.jsx)(n.a.StrictMode,{children:Object(J.jsx)(a.a,{store:Z,children:Object(J.jsx)(z,{})})}),document.getElementById("root"))}},[[33,1,2]]]);