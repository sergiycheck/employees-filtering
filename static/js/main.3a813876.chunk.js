(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,r){},22:function(e,t,r){},33:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),i=r(7),a=r.n(i),s=(r(21),r(22),r(2)),u=r(3),o=r(9),l=r.n(o),d=function(){return Object(s.c)()},j=s.d,b=r(12),f=r.n(b),h=r(14),m=r(4),O="".concat("https://fakerapi.it/api/v1","/persons"),v=["January","February","March","April","May","June","July","August","September","October","November","December"],p=function(e){return v[new Date(e).getMonth()]},x=Object(m.c)({sortComparer:function(e,t){return e.firstName&&t.firstName?e.firstName.localeCompare(t.firstName):0}}),y=x.getInitialState({maxLettersSelected:3,selectedLettersFilter:""}),N=Object(m.b)("users/fetchUsers",function(){var e=Object(h.a)(f.a.mark((function e(t){var r,n,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL(O)).searchParams.set("_quantity","".concat(t)),e.next=4,fetch("".concat(r));case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,i=c.data.map((function(e){return{id:"".concat(e.firstname).concat(e.lastname).concat(Math.random()),firstName:e.firstname,lastName:e.lastname,dob:e.birthday}})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(m.d)({name:"users",initialState:y,reducers:{concatRemoveLetterFilter:function(e,t){var r=t.payload,n=r.toLowerCase(),c=e.selectedLettersFilter;c?c.includes(n)?e.selectedLettersFilter=c.split("").filter((function(e){return e!==n})).join(""):e.selectedLettersFilter.length!==e.maxLettersSelected&&(e.selectedLettersFilter=c.concat(r)):e.selectedLettersFilter=r},toggleUser:function(e,t){var r=t.payload,n=r.id,c=r.activity,i=e.entities[n];i&&(i.isActive=c)}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){var r=t.payload,n={};r.forEach((function(e){n[e.id]=e})),x.upsertMany(e,n)}))}}),F=g.actions,C=F.concatRemoveLetterFilter,L=F.toggleUser,w=function(e){return e.users.selectedLettersFilter},S=function(e){return e.users.maxLettersSelected},k=x.getSelectors((function(e){return e.users})),A=k.selectAll,M=k.selectById,E=(k.selectIds,g.reducer),U=r(0),I=function(e){var t=e.id,r=d(),c=Object(n.useState)(!1),i=Object(u.a)(c,2),a=i[0],s=i[1],o=j((function(e){return M(e,t)}));return Object(n.useEffect)((function(){s(!!(null===o||void 0===o?void 0:o.isActive))}),[o]),Object(U.jsx)("li",{children:Object(U.jsxs)("div",{className:"userContainer",children:[Object(U.jsxs)("h4",{className:l()(a&&"userActive"),children:[o.firstName," ",o.lastName]}),Object(U.jsxs)("div",{className:"activity",children:[Object(U.jsxs)("div",{className:"activityCheck",children:[Object(U.jsx)("input",{onChange:function(e){r(L({id:t,activity:!1})),s(!1)},type:"radio",name:"".concat(o.id,"-activity"),id:"".concat(o.id,"-activeFalse"),checked:!a,value:"false"}),Object(U.jsx)("label",{htmlFor:"".concat(o.id,"-activeFalse"),children:"not active"})]}),Object(U.jsxs)("div",{className:"activityCheck",children:[Object(U.jsx)("input",{onChange:function(e){r(L({id:t,activity:!0})),s(!0)},type:"radio",name:"".concat(o.id,"-activity"),id:"".concat(o.id,"-activeTrue"),checked:a,value:"true"}),Object(U.jsx)("label",{htmlFor:"".concat(o.id,"-activeTrue"),children:"active"})]})]})]})})},J=function(e){var t=A(e),r=w(e);return r?r.split("").reduce((function(e,r){var n=t.filter((function(e){return e.firstName.toUpperCase().startsWith(r.toUpperCase())})).map((function(e){return e.id}));return e[r]=n,e}),{}):{all:t.map((function(e){return e.id}))}},B=(new Date).getMonth(),D=Object(s.b)((function(e){return{userFilteredKeyedIds:J(e)}}))((function(e){var t=e.userFilteredKeyedIds,r=Object.keys(t).map((function(e,r){var n=t[e].map((function(e){return Object(U.jsx)(I,{id:e},e)}));return Object(U.jsxs)("div",{children:[Object(U.jsx)("h3",{children:e.toUpperCase()}),Object(U.jsxs)("ul",{className:"users-list",children:[n,!n.length&&Object(U.jsx)("h4",{children:"No Employees"})]})]},r)}));return Object(U.jsxs)("div",{className:"employees-container",children:[Object(U.jsx)("div",{className:"employee-title",children:Object(U.jsx)("h2",{children:"Employees"})}),Object(U.jsx)("div",{className:"userLists",children:r})]})})),R=r(16);function T(){var e;return Object(R.a)(Array(26)).map((function(t){return(++e).toString(36)}),e=9)}var K=function(){var e=Object(n.useMemo)(T,[]).map((function(e,t){return Object(U.jsx)(q,{letter:e,children:Object(U.jsxs)(U.Fragment,{children:[e," "]})},t)}));return Object(U.jsx)("div",{className:"buttons-container",children:e})},q=function(e){var t=e.letter,r=e.children,i=d(),a=j(w),s=j(S),u=Object(n.useRef)(t),o=!!a&&a.includes(u.current),b=Object(n.useMemo)((function(){var e=Boolean(a),t=Boolean(!o),r=Boolean(a.length===s);return!!(e&&t&&r)}),[a,o,s]);return Object(U.jsx)(c.a.Fragment,{children:Object(U.jsx)("button",{type:"button",disabled:b,className:l()(o&&"buttonActive"),onClick:function(e){var t=u.current;T().includes(t)&&i(C(t))},children:r})})},P=function(){var e=j((function(e){return function(e){var t=A(e).filter((function(e){return e.isActive})).reduce((function(e,t){var r=p(t.dob);return e[r]||(e[r]=[]),e[r].push(t),e}),{}),r=Object.entries(t).reduce((function(e,t){var r=Object(u.a)(t,2),n=r[0],c=r[1];return e[n]=c.sort((function(e,t){return e.lastName.toLowerCase().localeCompare(t.lastName.toLowerCase())})),e}),{}),n=Object.fromEntries(Object.entries(r).sort((function(e,t){var r=Object(u.a)(e,1)[0],n=Object(u.a)(t,1)[0],c=v.indexOf(r),i=v.indexOf(n);return c<B&&(c+=12),i<B&&(i+=12),c-i})));return Object.entries(n).reduce((function(e,t){var r=Object(u.a)(t,2),n=r[0],c=r[1];return e[n]=c.map((function(e){return e.id})),e}),{})}(e)})),t=Object.keys(e).map((function(t,r){var n=e[t].map((function(e){return Object(U.jsx)(W,{id:e},e)}));return Object(U.jsxs)("div",{children:[Object(U.jsx)("hr",{}),Object(U.jsx)("h3",{children:t.toUpperCase()}),Object(U.jsxs)("ul",{className:"users-list",children:[n,!n.length&&Object(U.jsx)("h4",{children:"Employee list empty"})]})]},r)}));return Object(U.jsxs)("div",{className:"employees-birthdays",children:[Object(U.jsx)("div",{className:"employee-title",children:Object(U.jsx)("h2",{children:"Employees birthday"})}),Object(U.jsxs)("div",{children:[t,(!t||!t.length)&&Object(U.jsx)("h4",{children:"Employees List is empty"})]})]})},W=function(e){var t=e.id,r=j((function(e){return M(e,t)})),c=Object(n.useMemo)((function(){var e=r.dob,t=new Date(e);return"".concat(t.getUTCDate()," ").concat(p(e),", ").concat(t.getFullYear()," year")}),[r]);return Object(U.jsx)("li",{children:Object(U.jsx)("div",{children:Object(U.jsxs)("h4",{children:[r.lastName," ",r.firstName," - ",c]})})})};var Y=function(){return Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)("header",{className:"App-header",children:Object(U.jsx)(K,{})}),Object(U.jsx)("main",{children:Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)("div",{className:"row",children:[Object(U.jsx)(D,{}),Object(U.jsx)("div",{className:"vertical-line"}),Object(U.jsx)(P,{})]})})}),Object(U.jsx)("footer",{children:Object(U.jsx)("hr",{})})]})},_=r(6),z=r(15),G="state",H=function(e){return function(t){return function(r){Q("dispatching",r);var n=t(r);return Q("next state",e.getState()),n}}},Q=function(){},V=function(){try{var e=window.localStorage.getItem(G);if(!e)return;return JSON.parse(e)}catch(t){return}}(),X=Object(m.a)({reducer:{users:E},preloadedState:V,middleware:function(e){return e().prepend(H)}});X.subscribe(Object(z.throttle)((function(){var e=X.getState();!function(e){try{var t=JSON.stringify(e);window.localStorage.setItem(G,t)}catch(r){}}(Object(_.a)({},e))}),1e3)),X.dispatch(N(100)),a.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(s.a,{store:X,children:Object(U.jsx)(Y,{})})}),document.getElementById("root"))}},[[33,1,2]]]);